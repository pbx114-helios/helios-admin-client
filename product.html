<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Info</title>
    <link rel="stylesheet" href="./styles/products-mod.css">
    <script src="./scripts/check.js"></script>
</head>

<body onload="check();">
    <div class="navbar">
        <div class="nav-element"><a href="#">Main Page</a></div>
        <div class="nav-element"><a href="#">Store</a></div>
        <div class="nav-element"><a href="./home.html">Dashboard</a></div>
    </div>
    <div class="content">
        <h2 id="prod-name">Helios-redbull varsity jacket</h2>
        <div class="sizes">
            <div class="size">41</div>
            <div class="size">42</div>
            <div class="size">43</div>
            <div class="size">44</div>
        </div>
        <div class="input-container">
            <input type='text' name="c-name" id="c-name" placeholder="Change product name" class="long-input">
            <input type='text' name="c-desc" id="c-desc" placeholder="Change product description" class="long-input">
            <input type='text' name="c-img" id="c-img" placeholder="Change image link" class="long-input">
            <span><input type='text' name="c-price" id="c-price" placeholder="AED 1050 - Change price"
                    class="short-input"><button class="change">CHANGE</button></span>
        </div>
    </div>
    <div class="product-image">
        <img src="./src/product-image.png" alt="Product Image" class="img">
        <button class="delete">DELETE</button>
    </div>
    <script>
        const api_url = "http://localhost:3000/products";
        let data
        getData();
        async function getData() {
            const response = await fetch(api_url);
            temp = await response.json();
            data = temp['products']
            loadElement();
        }
        function loadElement() {
            document.getElementById("c-name").value = data[Number(localStorage.clickedElement)]['name']
            document.getElementById("c-desc").value = data[Number(localStorage.clickedElement)]['description']
            document.getElementById("c-price").value = data[Number(localStorage.clickedElement)]['price']
        }
    </script>
</body>

</html>